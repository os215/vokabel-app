server:
  port: 8080
  max-http-request-header-size: 20000
  forward-headers-strategy: framework

spring:
  security:
    oauth2:
      client:
        registration:
          azure:
            client-id: ${CLIENT_ID}
            client-secret: ${CLIENT_SECRET}
            scope: openid,profile,email
        provider:
          azure:
            issuer-uri: https://login.microsoftonline.com/${TENANT_ID}/v2.0
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
  datasource:
    driver-class-name: org.mariadb.jdbc.Driver
    url: "${DATABASE_URL}"
    username: "${DATABASE_USER}"
    password: "${DATABASE_PASSWORD}"

management:
  endpoints:
    web:
      exposure:
        include: health,info
      base-path: /actuator
  endpoint:
    health:
      probes:
        enabled: true
      show-details: when-authorized
      show-components: when-authorized
  health:
    livenessState:
      enabled: true
    readinessState:
      enabled: true

export:
  database:
    enabled: true
    directory: ${EXPORT_DIRECTORY:./exports}
    schedule: ${EXPORT_SCHEDULE:0 0 2 * * ?}  # Daily at 2 AM by default
    format: json  # json or csv

